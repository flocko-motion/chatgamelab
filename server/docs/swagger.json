{
    "schemes": [
        "http",
        "https"
    ],
    "swagger": "2.0",
    "info": {
        "description": "API for ChatGameLab - an AI-powered interactive game platform",
        "title": "ChatGameLab API",
        "contact": {
            "name": "ChatGameLab Team",
            "url": "https://chatgamelab.com"
        },
        "license": {
            "name": "MIT"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/api",
    "paths": {
        "/apikeys": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns all API key shares accessible to the current user",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apikeys"
                ],
                "summary": "List API keys",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/obj.ApiKeyShare"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/apikeys/new": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a new API key with automatic self-share",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apikeys"
                ],
                "summary": "Create API key",
                "parameters": [
                    {
                        "description": "API key data",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.CreateApiKeyRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.ApiKeyShare"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/apikeys/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns share info and linked shares for an API key share",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apikeys"
                ],
                "summary": "Get API key info",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Share ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.ApiKeyInfoResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid share ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "If ?cascade=true, deletes key and all shares; otherwise unshares (deletes single share)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apikeys"
                ],
                "summary": "Delete or unshare API key",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Share ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "boolean",
                        "description": "Delete key and all shares",
                        "name": "cascade",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.ApiKeyShare"
                        }
                    },
                    "400": {
                        "description": "Invalid share ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Updates API key name",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apikeys"
                ],
                "summary": "Update API key",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Share ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Update request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.UpdateApiKeyRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.ApiKeyShare"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/apikeys/{id}/shares": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Shares an API key with a user, workshop, or institution",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apikeys"
                ],
                "summary": "Share API key",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Share ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Share request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.ShareRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.ApiKeyShare"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/check-name": {
            "get": {
                "description": "Checks if a username is available for registration",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Check if name is available",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Name to check",
                        "name": "name",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Registers a new user after Auth0 authentication. Requires valid Auth0 token.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Register new user",
                "parameters": [
                    {
                        "description": "Registration details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.RegisterRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.User"
                        }
                    },
                    "400": {
                        "description": "Invalid request or validation error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "409": {
                        "description": "Name already taken",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/games": {
            "get": {
                "description": "Returns a list of games. If authenticated, includes user's private games.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "List games",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search games by name (case-insensitive)",
                        "name": "search",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Sort field (name, createdAt, modifiedAt)",
                        "name": "sortBy",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Sort direction (asc, desc)",
                        "name": "sortDir",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter type (all, own, public, organization, favorites)",
                        "name": "filter",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/obj.Game"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/games/favourites": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the list of games the authenticated user has marked as favourites",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Get user's favourite games",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/obj.Game"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/games/new": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a new game from JSON or YAML. Accepts either a simple name or full game object.",
                "consumes": [
                    "application/json",
                    "application/x-yaml"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Create game",
                "parameters": [
                    {
                        "description": "Create game request (JSON or YAML)",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.CreateGameRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.Game"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/games/{id}": {
            "get": {
                "description": "Returns a single game by its ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Get game by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.Game"
                        }
                    },
                    "400": {
                        "description": "Invalid game ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Game not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Updates a game's properties",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Update game",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Game data",
                        "name": "game",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/obj.Game"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.Game"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Game not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Deletes a game by ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Delete game",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.Game"
                        }
                    },
                    "400": {
                        "description": "Invalid game ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Failed to delete",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/games/{id}/clone": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a copy of a game for the authenticated user",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Clone game",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID) to clone",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.Game"
                        }
                    },
                    "400": {
                        "description": "Invalid game ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Game not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Failed to clone",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/games/{id}/favourite": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Adds a game to the authenticated user's favourites",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Add game to favourites",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid game ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Removes a game from the authenticated user's favourites",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Remove game from favourites",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid game ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/games/{id}/sessions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Lists sessions for a game",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sessions"
                ],
                "summary": "List game sessions",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/obj.GameSession"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid game ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a new session for a game and returns the session with first message",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sessions"
                ],
                "summary": "Create game session",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Create session request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.CreateSessionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.SessionResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/games/{id}/yaml": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Exports a game's configuration as YAML format",
                "produces": [
                    "application/x-yaml"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Export game as YAML",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.Game"
                        }
                    },
                    "400": {
                        "description": "Invalid game ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Game not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Updates a game's configuration from YAML format",
                "consumes": [
                    "application/x-yaml"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "games"
                ],
                "summary": "Import game from YAML",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Game ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Game YAML content",
                        "name": "yaml",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.Game"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Failed to update",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/languages": {
            "get": {
                "description": "Returns a list of available languages for the application",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "languages"
                ],
                "summary": "Get available languages",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/routes.Language"
                            }
                        }
                    }
                }
            }
        },
        "/languages/{code}": {
            "get": {
                "description": "Returns the translation JSON file for the specified language code",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "languages"
                ],
                "summary": "Get locale file for a specific language",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Language code (e.g., 'fr', 'de', 'no')",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/messages/{id}/image": {
            "get": {
                "description": "Returns the image for a message as PNG",
                "produces": [
                    "image/png"
                ],
                "tags": [
                    "messages"
                ],
                "summary": "Get message image",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Message ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "PNG image",
                        "schema": {
                            "type": "file"
                        }
                    },
                    "400": {
                        "description": "Invalid message ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Message or image not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/messages/{id}/stream": {
            "get": {
                "description": "Server-Sent Events endpoint for streaming message chunks.",
                "produces": [
                    "text/event-stream"
                ],
                "tags": [
                    "messages"
                ],
                "summary": "Stream message updates (SSE)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Message ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "SSE stream",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Invalid message ID",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Stream not found",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/platforms": {
            "get": {
                "description": "Returns all available AI platforms with their metadata",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "platforms"
                ],
                "summary": "List AI platforms",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/obj.AiPlatform"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/restart": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Admin-only endpoint that triggers a server restart.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin"
                ],
                "summary": "Restart server",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/roles": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns all available user roles",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Get available roles",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.RolesResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/sessions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns recent sessions for the authenticated user with game names",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sessions"
                ],
                "summary": "List user sessions",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search by game name",
                        "name": "search",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Sort field: game, model, lastPlayed (default)",
                        "name": "sortBy",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/db.UserSessionWithGame"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/sessions/{id}": {
            "get": {
                "description": "Returns session details. Optional query parameter can include latest message.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sessions"
                ],
                "summary": "Get session",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Session ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Message inclusion: none|latest|all",
                        "name": "messages",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.SessionResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid session ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Session not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "Sends a player message/action to a session and returns the resulting message.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sessions"
                ],
                "summary": "Send session action",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Session ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Player action",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.SessionActionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.GameSessionMessage"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Session not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Deletes a session and all its messages. User must be the owner.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sessions"
                ],
                "summary": "Delete session",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Session ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid session ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Session not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/status": {
            "get": {
                "description": "Returns the current server status and uptime",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "status"
                ],
                "summary": "Get server status",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.StatusResponse"
                        }
                    }
                }
            }
        },
        "/system/settings": {
            "get": {
                "description": "Returns the global system settings",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "Get system settings",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.SystemSettings"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/users": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns all users",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "List users",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/obj.User"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/users/me": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the currently authenticated user",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get current user",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.User"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/users/me/stats": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns aggregated statistics for the currently authenticated user",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get current user statistics",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.UserStats"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/users/new": {
            "post": {
                "description": "Creates a new user without Auth0. Only available in dev mode.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Create user (dev only)",
                "parameters": [
                    {
                        "description": "Create user request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.UsersNewRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.User"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden (not dev mode)",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns a user by ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get user by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.User"
                        }
                    },
                    "400": {
                        "description": "Invalid user ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Updates a user by ID. Non-admins may only update themselves.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Update user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "User update",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/routes.UserUpdateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/obj.User"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/users/{id}/jwt": {
            "get": {
                "description": "Generates a JWT token for a user. Only available in dev mode.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Generate JWT (dev only)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.UsersJwtResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid user ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden (not dev mode)",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/httpx.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/version": {
            "get": {
                "description": "Returns the server version and build time",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "status"
                ],
                "summary": "Get server version",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/routes.VersionResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "db.UserSessionWithGame": {
            "type": "object",
            "properties": {
                "aiModel": {
                    "type": "string"
                },
                "aiPlatform": {
                    "description": "AI model used for playing.",
                    "type": "string"
                },
                "aiSession": {
                    "description": "JSON with arbitrary details to be used within that model and within that session.",
                    "type": "string"
                },
                "apiKey": {
                    "$ref": "#/definitions/obj.ApiKey"
                },
                "apiKeyId": {
                    "description": "API key used to pay for this session (sponsored or user-owned), implicitly defines platform.",
                    "type": "string"
                },
                "gameDescription": {
                    "type": "string"
                },
                "gameId": {
                    "type": "string"
                },
                "gameName": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "imageStyle": {
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "statusFields": {
                    "description": "Defines the status fields available in the game; copied from game.status_fields at launch.",
                    "type": "string"
                },
                "theme": {
                    "description": "AI-generated visual theme for the game player UI (JSON)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/obj.GameTheme"
                        }
                    ]
                },
                "userId": {
                    "type": "string"
                },
                "userName": {
                    "type": "string"
                }
            }
        },
        "httpx.ErrorResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "Machine-readable error code",
                    "type": "string"
                },
                "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                },
                "type": {
                    "description": "Deprecated: use Code instead",
                    "type": "string"
                }
            }
        },
        "obj.AiModel": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "id": {
                    "description": "technical name without spaces, e.g. \"gpt-4-nano\"",
                    "type": "string"
                },
                "name": {
                    "description": "display name e.g. \"GPT 4 Nano\"",
                    "type": "string"
                }
            }
        },
        "obj.AiPlatform": {
            "type": "object",
            "properties": {
                "id": {
                    "description": "technical name without spaces, e.g. \"openai\"",
                    "type": "string"
                },
                "models": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/obj.AiModel"
                    }
                },
                "name": {
                    "description": "display name e.g. \"OpenAI\"",
                    "type": "string"
                },
                "supportsApiKey": {
                    "description": "whether this platform supports user API keys",
                    "type": "boolean"
                }
            }
        },
        "obj.ApiKey": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "keyShortened": {
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "name": {
                    "type": "string"
                },
                "platform": {
                    "type": "string"
                },
                "userId": {
                    "type": "string"
                },
                "userName": {
                    "type": "string"
                }
            }
        },
        "obj.ApiKeyShare": {
            "type": "object",
            "properties": {
                "allowPublicSponsoredPlays": {
                    "type": "boolean"
                },
                "apiKey": {
                    "$ref": "#/definitions/obj.ApiKey"
                },
                "apiKeyId": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "institution": {
                    "$ref": "#/definitions/obj.Institution"
                },
                "isUserDefault": {
                    "type": "boolean"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "user": {
                    "$ref": "#/definitions/obj.User"
                },
                "workshop": {
                    "$ref": "#/definitions/obj.Workshop"
                }
            }
        },
        "obj.Game": {
            "type": "object",
            "properties": {
                "cloneCount": {
                    "type": "integer"
                },
                "creatorId": {
                    "description": "Creator info (populated when fetching games)",
                    "type": "string"
                },
                "creatorName": {
                    "type": "string"
                },
                "css": {
                    "description": "Additional CSS for the game, probably generated by the LLM.\nShould be validated/parsed strictly to avoid arbitrary code execution.",
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "firstImage": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "firstMessage": {
                    "description": "Quick start: pre-generated first scene of the game.\nThis is generated content (first output after the system message) and may be\nregenerated from time to time to avoid being too static.",
                    "type": "string"
                },
                "firstStatus": {
                    "type": "string"
                },
                "icon": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "id": {
                    "type": "string"
                },
                "imageStyle": {
                    "description": "What style should the images have?",
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "name": {
                    "type": "string"
                },
                "originalCreatorId": {
                    "description": "Original creator info (populated when fetching games, if originally cloned)",
                    "type": "string"
                },
                "originalCreatorName": {
                    "type": "string"
                },
                "originallyCreatedBy": {
                    "description": "Tracking: original creator (for cloned games) and usage statistics",
                    "type": "string"
                },
                "playCount": {
                    "type": "integer"
                },
                "privateShareHash": {
                    "description": "Private share links contain secret random tokens to limit access to the game.\nThey are sponsored, so invited players don't require their own API key.",
                    "type": "string"
                },
                "privateSponsoredApiKeyId": {
                    "type": "string"
                },
                "public": {
                    "description": "Access rights and payments. public = true: discoverable on the website and playable by anyone.",
                    "type": "boolean"
                },
                "publicSponsoredApiKeyId": {
                    "description": "If public, a sponsored API key can be provided to pay for any public plays.",
                    "type": "string"
                },
                "statusFields": {
                    "description": "The status fields available to the LLM, shaping the JSON format for status.",
                    "type": "string"
                },
                "systemMessageGameStart": {
                    "description": "How should the game start? First scene? How is the player welcomed?",
                    "type": "string"
                },
                "systemMessageScenario": {
                    "description": "Game details and system messages for the LLM.\nWhat is the game about? How does it work? Player role? World description?",
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/obj.GameTag"
                    }
                }
            }
        },
        "obj.GameSession": {
            "type": "object",
            "properties": {
                "aiModel": {
                    "type": "string"
                },
                "aiPlatform": {
                    "description": "AI model used for playing.",
                    "type": "string"
                },
                "aiSession": {
                    "description": "JSON with arbitrary details to be used within that model and within that session.",
                    "type": "string"
                },
                "apiKey": {
                    "$ref": "#/definitions/obj.ApiKey"
                },
                "apiKeyId": {
                    "description": "API key used to pay for this session (sponsored or user-owned), implicitly defines platform.",
                    "type": "string"
                },
                "gameDescription": {
                    "type": "string"
                },
                "gameId": {
                    "type": "string"
                },
                "gameName": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "imageStyle": {
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "statusFields": {
                    "description": "Defines the status fields available in the game; copied from game.status_fields at launch.",
                    "type": "string"
                },
                "theme": {
                    "description": "AI-generated visual theme for the game player UI (JSON)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/obj.GameTheme"
                        }
                    ]
                },
                "userId": {
                    "type": "string"
                },
                "userName": {
                    "type": "string"
                }
            }
        },
        "obj.GameSessionMessage": {
            "type": "object",
            "properties": {
                "gameSessionId": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "image": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "imagePrompt": {
                    "type": "string"
                },
                "message": {
                    "description": "Plain text of the scene (system message, player action, or game response).",
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "seq": {
                    "description": "Sequence number within the session, starting at 1",
                    "type": "integer"
                },
                "statusFields": {
                    "description": "JSON encoded status fields.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/obj.StatusField"
                    }
                },
                "stream": {
                    "type": "boolean"
                },
                "type": {
                    "description": "player: user message; game: LLM/game response; system: initial system/context messages.",
                    "type": "string"
                }
            }
        },
        "obj.GameTag": {
            "type": "object",
            "properties": {
                "gameId": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "tag": {
                    "type": "string"
                }
            }
        },
        "obj.GameTheme": {
            "type": "object",
            "properties": {
                "background": {
                    "$ref": "#/definitions/obj.GameThemeBackground"
                },
                "corners": {
                    "$ref": "#/definitions/obj.GameThemeCorners"
                },
                "gameMessage": {
                    "$ref": "#/definitions/obj.GameThemeGameMessage"
                },
                "player": {
                    "$ref": "#/definitions/obj.GameThemePlayer"
                },
                "statusEmojis": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "thinking": {
                    "$ref": "#/definitions/obj.GameThemeThinking"
                },
                "typography": {
                    "$ref": "#/definitions/obj.GameThemeTypography"
                }
            }
        },
        "obj.GameThemeBackground": {
            "type": "object",
            "properties": {
                "animation": {
                    "description": "none, stars, rain, fog, particles, scanlines",
                    "type": "string"
                },
                "tint": {
                    "description": "warm, cool, neutral, dark",
                    "type": "string"
                }
            }
        },
        "obj.GameThemeCorners": {
            "type": "object",
            "properties": {
                "color": {
                    "description": "amber, emerald, cyan, violet, rose, slate",
                    "type": "string"
                },
                "style": {
                    "description": "brackets, flourish, arrows, dots, none",
                    "type": "string"
                }
            }
        },
        "obj.GameThemeGameMessage": {
            "type": "object",
            "properties": {
                "dropCap": {
                    "type": "boolean"
                },
                "dropCapColor": {
                    "description": "amber, emerald, cyan, violet, rose, slate",
                    "type": "string"
                },
                "monochrome": {
                    "type": "boolean"
                }
            }
        },
        "obj.GameThemePlayer": {
            "type": "object",
            "properties": {
                "bgColor": {
                    "description": "cyan, amber, violet, slate, white, emerald, rose",
                    "type": "string"
                },
                "color": {
                    "description": "amber, emerald, cyan, violet, rose, slate",
                    "type": "string"
                },
                "indicator": {
                    "description": "dot, arrow, chevron, diamond, none",
                    "type": "string"
                },
                "monochrome": {
                    "type": "boolean"
                },
                "showChevron": {
                    "type": "boolean"
                }
            }
        },
        "obj.GameThemeThinking": {
            "type": "object",
            "properties": {
                "style": {
                    "description": "dots, spinner, pulse, typewriter",
                    "type": "string"
                },
                "text": {
                    "description": "e.g. \"The story unfolds...\"",
                    "type": "string"
                }
            }
        },
        "obj.GameThemeTypography": {
            "type": "object",
            "properties": {
                "messages": {
                    "description": "serif, sans, mono, fantasy",
                    "type": "string"
                }
            }
        },
        "obj.Institution": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "obj.Meta": {
            "type": "object",
            "properties": {
                "createdAt": {
                    "type": "string"
                },
                "createdBy": {
                    "$ref": "#/definitions/uuid.NullUUID"
                },
                "modifiedAt": {
                    "type": "string"
                },
                "modifiedBy": {
                    "$ref": "#/definitions/uuid.NullUUID"
                }
            }
        },
        "obj.Role": {
            "type": "string",
            "enum": [
                "admin",
                "head",
                "staff"
            ],
            "x-enum-varnames": [
                "RoleAdmin",
                "RoleHead",
                "RoleStaff"
            ]
        },
        "obj.StatusField": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "obj.SystemSettings": {
            "type": "object",
            "properties": {
                "createdAt": {
                    "type": "string"
                },
                "defaultAiModel": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "modifiedAt": {
                    "type": "string"
                }
            }
        },
        "obj.User": {
            "type": "object",
            "properties": {
                "auth0Id": {
                    "type": "string"
                },
                "deletedAt": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "name": {
                    "type": "string"
                },
                "role": {
                    "$ref": "#/definitions/obj.UserRole"
                },
                "showAiModelSelector": {
                    "type": "boolean"
                }
            }
        },
        "obj.UserRole": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "institution": {
                    "$ref": "#/definitions/obj.Institution"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "role": {
                    "$ref": "#/definitions/obj.Role"
                },
                "userId": {
                    "type": "string"
                }
            }
        },
        "obj.UserStats": {
            "type": "object",
            "properties": {
                "gamesCreated": {
                    "type": "integer"
                },
                "gamesPlayed": {
                    "type": "integer"
                },
                "messagesSent": {
                    "type": "integer"
                },
                "totalPlaysOnGames": {
                    "type": "integer"
                }
            }
        },
        "obj.Workshop": {
            "type": "object",
            "properties": {
                "active": {
                    "type": "boolean"
                },
                "id": {
                    "type": "string"
                },
                "institution": {
                    "$ref": "#/definitions/obj.Institution"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "name": {
                    "type": "string"
                },
                "participants": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/obj.WorkshopParticipant"
                    }
                },
                "public": {
                    "type": "boolean"
                }
            }
        },
        "obj.WorkshopParticipant": {
            "type": "object",
            "properties": {
                "accessToken": {
                    "type": "string"
                },
                "active": {
                    "type": "boolean"
                },
                "id": {
                    "type": "string"
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "name": {
                    "type": "string"
                },
                "workshopId": {
                    "type": "string"
                }
            }
        },
        "routes.ApiKeyInfoResponse": {
            "type": "object",
            "properties": {
                "linkedShares": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/obj.ApiKeyShare"
                    }
                },
                "share": {
                    "$ref": "#/definitions/obj.ApiKeyShare"
                }
            }
        },
        "routes.CreateApiKeyRequest": {
            "type": "object",
            "properties": {
                "key": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "platform": {
                    "type": "string"
                }
            }
        },
        "routes.CreateGameRequest": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "public": {
                    "type": "boolean"
                }
            }
        },
        "routes.CreateSessionRequest": {
            "type": "object",
            "properties": {
                "model": {
                    "type": "string"
                },
                "shareId": {
                    "type": "string"
                }
            }
        },
        "routes.Language": {
            "type": "object",
            "properties": {
                "iso": {
                    "type": "string"
                },
                "label": {
                    "type": "string"
                }
            }
        },
        "routes.RegisterRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "routes.RolesResponse": {
            "type": "object",
            "properties": {
                "roles": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/obj.Role"
                    }
                }
            }
        },
        "routes.SessionActionRequest": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                },
                "statusFields": {
                    "description": "Current status to pass to AI",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/obj.StatusField"
                    }
                }
            }
        },
        "routes.SessionResponse": {
            "type": "object",
            "properties": {
                "aiModel": {
                    "type": "string"
                },
                "aiPlatform": {
                    "description": "AI model used for playing.",
                    "type": "string"
                },
                "aiSession": {
                    "description": "JSON with arbitrary details to be used within that model and within that session.",
                    "type": "string"
                },
                "apiKey": {
                    "$ref": "#/definitions/obj.ApiKey"
                },
                "apiKeyId": {
                    "description": "API key used to pay for this session (sponsored or user-owned), implicitly defines platform.",
                    "type": "string"
                },
                "gameDescription": {
                    "type": "string"
                },
                "gameId": {
                    "type": "string"
                },
                "gameName": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "imageStyle": {
                    "type": "string"
                },
                "messages": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/obj.GameSessionMessage"
                    }
                },
                "meta": {
                    "$ref": "#/definitions/obj.Meta"
                },
                "statusFields": {
                    "description": "Defines the status fields available in the game; copied from game.status_fields at launch.",
                    "type": "string"
                },
                "theme": {
                    "description": "AI-generated visual theme for the game player UI (JSON)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/obj.GameTheme"
                        }
                    ]
                },
                "userId": {
                    "type": "string"
                },
                "userName": {
                    "type": "string"
                }
            }
        },
        "routes.ShareRequest": {
            "type": "object",
            "properties": {
                "allowPublicSponsoredPlays": {
                    "type": "boolean"
                },
                "institutionId": {
                    "type": "string"
                },
                "userId": {
                    "type": "string"
                },
                "workshopId": {
                    "type": "string"
                }
            }
        },
        "routes.StatusResponse": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "string"
                },
                "uptime": {
                    "type": "string"
                }
            }
        },
        "routes.UpdateApiKeyRequest": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        },
        "routes.UserUpdateRequest": {
            "type": "object",
            "properties": {
                "defaultApiKeyShareId": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "showAiModelSelector": {
                    "type": "boolean"
                }
            }
        },
        "routes.UsersJwtResponse": {
            "type": "object",
            "properties": {
                "auth0Id": {
                    "type": "string"
                },
                "token": {
                    "type": "string"
                },
                "userId": {
                    "type": "string"
                }
            }
        },
        "routes.UsersNewRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "routes.VersionResponse": {
            "type": "object",
            "properties": {
                "buildTime": {
                    "type": "string"
                },
                "gitCommit": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "uuid.NullUUID": {
            "type": "object",
            "properties": {
                "uuid": {
                    "type": "string"
                },
                "valid": {
                    "description": "Valid is true if UUID is not NULL",
                    "type": "boolean"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "JWT token in format: Bearer {token}",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}